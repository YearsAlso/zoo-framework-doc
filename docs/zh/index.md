---
layout: home

hero:
  name: "ğŸ¦ Zoo Framework"
  text: "åŠ¨ç‰©å›­å¤šçº¿ç¨‹æ¡†æ¶"
  tagline: ğŸª æŠŠå¤æ‚çš„çº¿ç¨‹ç®¡ç†å˜æˆæœ‰è¶£çš„åŠ¨ç‰©å›­ï¼æ¯ä¸ª Worker éƒ½æ˜¯ä¸€åªåŠ¨ç‰©ï¼ŒCageï¼ˆç¬¼å­ï¼‰æ˜¯å®ƒä»¬çš„å®¶
  image:
    src: https://mxstorage.oss-cn-beijing.aliyuncs.com/oss-accesslog/zf-main-logo.png
    alt: Zoo Framework
  actions:
    - theme: brand
      text: ğŸ« å…¥å›­æŒ‡å—
      link: /start/
    - theme: alt
      text: ğŸ—ºï¸ åŠ¨ç‰©å›­åœ°å›¾
      link: /core/worker.html

features:
  - icon: ğŸ¦
    title: Worker åŠ¨ç‰©ä»¬
    details: æ¯åª Worker éƒ½æ˜¯åŠ¨ç‰©å›­é‡Œç‹¬ç‰¹çš„åŠ¨ç‰©ï¼Œæœ‰ç‹®å­èˆ¬å‡¶çŒ›çš„é«˜ä¼˜å…ˆçº§ä»»åŠ¡ï¼Œä¹Ÿæœ‰æ ‘æ‡’èˆ¬æ‚ é—²çš„å®šæ—¶ä»»åŠ¡
  - icon: ğŸ 
    title: Cage ç¬¼å­
    details: Cageï¼ˆç¬¼å­ï¼‰æ˜¯ Worker çš„å®¶ï¼Œç»Ÿä¸€ç®¡ç†åŠ¨ç‰©ä»¬çš„ä½œæ¯ã€å®‰å…¨å’Œäº’ç›¸é€šä¿¡ï¼Œè®©å®ƒä»¬å’Œè°å…±å¤„
  - icon: ğŸª
    title: Master å›­é•¿
    details: Master æ˜¯åŠ¨ç‰©å›­å›­é•¿ï¼Œè´Ÿè´£è°ƒåº¦æ‰€æœ‰åŠ¨ç‰©çš„å·¥ä½œï¼Œç¡®ä¿åŠ¨ç‰©å›­æœ‰åºè¿è½¬
  - icon: ğŸ–
    title: Event é£Ÿç‰©
    details: Eventï¼ˆäº‹ä»¶ï¼‰æ˜¯åŠ¨ç‰©ä»¬çš„é£Ÿç‰©ï¼Œé€šè¿‡ FIFOï¼ˆé¥²å…»å‘˜é˜Ÿåˆ—ï¼‰æŒ‰ä¼˜å…ˆçº§åˆ†å‘ï¼Œé«˜ä¼˜å…ˆçº§çš„åŠ¨ç‰©å…ˆåƒ
  - icon: ğŸ—ºï¸
    title: State çŠ¶æ€å›¾
    details: åŠ¨ç‰©ä»¬æœ‰è‡ªå·±çš„å¿ƒæƒ…çŠ¶æ€å›¾ï¼Œä»é¥¥é¥¿åˆ°é¥±é£Ÿã€ä»ä¼‘æ¯åˆ°å·¥ä½œï¼ŒçŠ¶æ€æœºè®°å½•å®ƒä»¬çš„ç”Ÿå‘½æ—…ç¨‹
  - icon: ğŸ”Œ
    title: Plugin æ–°ç‰©ç§
    details: æ”¯æŒå¼•å…¥æ–°ç‰©ç§ï¼ˆæ’ä»¶ï¼‰ï¼Œè®©åŠ¨ç‰©å›­ä¸æ–­ä¸°å¯Œï¼Œä¼é¹…ã€é•¿é¢ˆé¹¿...æƒ³å…»ä»€ä¹ˆå°±å…»ä»€ä¹ˆ
---

## ğŸª åŠ¨ç‰©å›­ç†å¿µ

> **Zoo Framework** çš„è®¾è®¡ç†å¿µæ¥è‡ªçœŸå®çš„åŠ¨ç‰©å›­ç®¡ç†ç³»ç»Ÿï¼š

```mermaid
graph TB
    subgraph "ğŸª Zoo Framework åŠ¨ç‰©å›­"
        M[ğŸ‘¨â€ğŸ’¼ Master å›­é•¿<br/>ç»Ÿç­¹å…¨å±€]
        
        subgraph "ğŸ  Cage ç¬¼å­åŒº"
            C1[ğŸ¦ ç‹®å­ç¬¼<br/>é«˜ä¼˜å…ˆçº§ Worker]
            C2[ğŸ’ çŒ´å­ç¬¼<br/>æ™®é€š Worker]
            C3[ğŸ¦¥ æ ‘æ‡’ç¬¼<br/>å»¶è¿Ÿ Worker]
        end
        
        subgraph "ğŸ– é£Ÿå ‚ FIFO"
            F[ğŸ“Š é¥²å…»å‘˜é˜Ÿåˆ—<br/>ä¼˜å…ˆçº§åˆ†å‘]
        end
        
        subgraph "ğŸ—ºï¸ çŠ¶æ€ä¸­å¿ƒ"
            S[ğŸ—ºï¸ åŠ¨ç‰©çŠ¶æ€å›¾<br/>StateMachine]
        end
    end
    
    M -->|ç®¡ç†| C1
    M -->|ç®¡ç†| C2
    M -->|ç®¡ç†| C3
    F -->|å–‚é£Ÿ| C1
    F -->|å–‚é£Ÿ| C2
    F -->|å–‚é£Ÿ| C3
    C1 -->|æ›´æ–°| S
    C2 -->|æ›´æ–°| S
    C3 -->|æ›´æ–°| S
```

### ğŸ¦ Worker = åŠ¨ç‰©

æ¯åª **Worker** éƒ½æ˜¯åŠ¨ç‰©å›­é‡Œç‹¬ç‰¹çš„åŠ¨ç‰©ï¼š

| ğŸ¦ åŠ¨ç‰© | ğŸ“ Worker ç±»å‹ | âš¡ ç‰¹ç‚¹ |
|---------|---------------|---------|
| ğŸ¦ ç‹®å­ | é«˜ä¼˜å…ˆçº§ Worker | å‡¶çŒ›ã€ä¼˜å…ˆè·å¾—èµ„æº |
| ğŸ’ çŒ´å­ | æ™®é€š Worker | çµæ´»ã€å¥½åŠ¨ã€å¾ªç¯æ‰§è¡Œ |
| ğŸ¦¥ æ ‘æ‡’ | å»¶è¿Ÿ Worker | æ…¢ååã€å®šæ—¶æ‰§è¡Œ |
| ğŸ¦… è€é¹° | äº‹ä»¶ Worker | æ•é”ã€å“åº”äº‹ä»¶ |
| ğŸ˜ å¤§è±¡ | çŠ¶æ€æœº Worker | ç¨³é‡ã€ç®¡ç†å¤æ‚çŠ¶æ€ |

```python
# ğŸ¦ åˆ›å»ºä¸€åªç‹®å­ Workerï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰
from zoo_framework.workers import BaseWorker

class LionWorker(BaseWorker):  # ğŸ¦ ç‹®å­
    def __init__(self):
        super().__init__({
            "name": "ğŸ¦ LionKing",      # ç‹®å­ç‹
            "delay_time": 1,             # æ¯ç§’å·¡è§†ä¸€æ¬¡
            "priority": 100              # ğŸ”´ æœ€é«˜ä¼˜å…ˆçº§
        })
    
    def _execute(self):
        print("ğŸ¦ å¼ï¼æˆ‘æ˜¯æ£®æ—ä¹‹ç‹ï¼Œä¼˜å…ˆå¤„ç†é‡è¦ä»»åŠ¡ï¼")
```

### ğŸ  Cage = ç¬¼å­

**Cage**ï¼ˆç¬¼å­ï¼‰æ˜¯åŠ¨ç‰©ä»¬çš„å®¶ï¼š

- ğŸ”’ **å®‰å…¨é˜²æŠ¤** - é˜²æ­¢åŠ¨ç‰©ä¹±è·‘ï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰
- ğŸ”„ **ç»Ÿä¸€ç®¡ç†** - ç®¡ç†åŠ¨ç‰©çš„ä½œæ¯ï¼ˆç”Ÿå‘½å‘¨æœŸï¼‰
- ğŸ“¢ **äº’ç›¸é€šä¿¡** - ç¬¼å­ä¹‹é—´çš„ä¼ å£°ç­’ï¼ˆäº‹ä»¶é€šä¿¡ï¼‰
- ğŸ“Š **çŠ¶æ€ç›‘æ§** - è®°å½•åŠ¨ç‰©çš„å¥åº·çŠ¶æ€ï¼ˆç›‘æ§ï¼‰

```python
from zoo_framework.core.aop import Cage

@cage.protect  # ğŸ  æŠŠ Worker æ”¾è¿›ç¬¼å­ä¿æŠ¤
class ProtectedWorker(BaseWorker):
    """
    ğŸ’ å—ä¿æŠ¤çš„çŒ´å­ Worker
    è¿è¡Œåœ¨ Cageï¼ˆç¬¼å­ï¼‰é‡Œï¼Œå®‰å…¨åˆèˆ’é€‚
    """
    def _execute(self):
        print("ğŸ’ æˆ‘åœ¨ç¬¼å­é‡Œå®‰å…¨åœ°ç©è€ï¼")
```

### ğŸª Master = å›­é•¿

**Master** æ˜¯åŠ¨ç‰©å›­å›­é•¿ï¼š

```
ğŸ‘¨â€ğŸ’¼ Master å›­é•¿çš„ä¸€å¤©ï¼š
â”œâ”€â”€ ğŸŒ… æ—©ä¸Š - æ£€æŸ¥æ‰€æœ‰åŠ¨ç‰©ï¼ˆWorkerï¼‰çŠ¶æ€
â”œâ”€â”€ ğŸ– ä¸Šåˆ - åˆ†å‘é£Ÿç‰©ï¼ˆEventï¼‰ç»™é¥¥é¥¿çš„åŠ¨ç‰©
â”œâ”€â”€ ğŸ”„ ä¸‹åˆ - å·¡è§†ç¬¼å­ï¼ˆCageï¼‰ï¼Œç¡®ä¿è¿è½¬æ­£å¸¸
â”œâ”€â”€ ğŸ“Š æ™šä¸Š - è®°å½•åŠ¨ç‰©çŠ¶æ€ï¼ˆStateMachineï¼‰
â””â”€â”€ ğŸŒ™ æ·±å¤œ - ä¿å­˜æ•°æ®ï¼Œä¼‘æ¯
```

```python
from zoo_framework.core import Master

# ğŸ‘¨â€ğŸ’¼ åˆ›å»ºå›­é•¿
master = Master()

# ğŸª å¼€å›­ï¼æ‰€æœ‰åŠ¨ç‰©å¼€å§‹å·¥ä½œ
master.run()
```

### ğŸ– Event = é£Ÿç‰©

**Event**ï¼ˆäº‹ä»¶ï¼‰æ˜¯åŠ¨ç‰©ä»¬çš„é£Ÿç‰©ï¼š

```mermaid
graph LR
    A[ğŸ– é£Ÿç‰©å‡†å¤‡] --> B[ğŸ“Š é¥²å…»å‘˜é˜Ÿåˆ—]
    B -->|ä¼˜å…ˆçº§æ’åº| C{ğŸ¦ åŠ¨ç‰©é¥¥é¥¿å—ï¼Ÿ}
    C -->|Yes| D[ğŸ¦ ç‹®å­å…ˆåƒ]
    C -->|Yes| E[ğŸ’ çŒ´å­ååƒ]
    C -->|Yes| F[ğŸ¦¥ æ ‘æ‡’æœ€ååƒ]
    
    style B fill:#fff3e0
    style D fill:#ffcdd2
```

```python
from zoo_framework.fifo.node import EventNode

# ğŸ– å‡†å¤‡é£Ÿç‰©ï¼ˆäº‹ä»¶ï¼‰
food = EventNode(
    topic="lunch.meat",           # ğŸ¥© åˆé¤è‚‰
    content={"type": "beef"},      # ç‰›è‚‰
    priority=100                   # ğŸ”´ é«˜ä¼˜å…ˆçº§é£Ÿç‰©
)

# ğŸ“¤ æ”¾å…¥é¥²å…»å‘˜é˜Ÿåˆ—
EventChannelManager.get_channel("zoo").push(food)
```

## ğŸš€ å¿«é€Ÿå…¥å›­

### ğŸ« ä¹°ç¥¨ï¼ˆå®‰è£…ï¼‰

::: code-group

```bash [pip]
pip install zoo-framework
```

```bash [uv]
uv pip install zoo-framework
```

:::

### ğŸ—ï¸ æ­å»ºåŠ¨ç‰©å›­ï¼ˆåˆ›å»ºé¡¹ç›®ï¼‰

```bash
# ğŸ—ï¸ åˆ›å»ºåŠ¨ç‰©å›­
zfc --create my_zoo
cd my_zoo

# ğŸ¦ æ·»åŠ åŠ¨ç‰©
zfc --worker lion
zfc --worker monkey
zfc --worker sloth
```

### ğŸ¦ å…»ä¸€åªç‹®å­

```python
# workers/lion_worker.py
from zoo_framework.workers import BaseWorker

class LionWorker(BaseWorker):  # ğŸ¦ ç‹®å­
    def __init__(self):
        super().__init__({
            "name": "ğŸ¦ LionKing",
            "is_loop": True,
            "delay_time": 2  # â±ï¸ æ¯2ç§’å·¡è§†ä¸€æ¬¡é¢†åœ°
        })
    
    def _execute(self):
        print("ğŸ¦ å¼ï¼æˆ‘æ˜¯ç‹®å­ç‹ï¼Œæ­£åœ¨å¤„ç†é«˜ä¼˜å…ˆçº§ä»»åŠ¡ï¼")
```

### ğŸª å¼€å›­

```python
# main.py
from zoo_framework.core import Master

if __name__ == "__main__":
    print("ğŸª åŠ¨ç‰©å›­å¼€å›­å•¦ï¼")
    master = Master()
    master.run()  # ğŸ‰ æ‰€æœ‰åŠ¨ç‰©å¼€å§‹å·¥ä½œ
```

è¾“å‡ºï¼š
```
ğŸª åŠ¨ç‰©å›­å¼€å›­å•¦ï¼
ğŸ¦ å¼ï¼æˆ‘æ˜¯ç‹®å­ç‹ï¼Œæ­£åœ¨å¤„ç†é«˜ä¼˜å…ˆçº§ä»»åŠ¡ï¼
ğŸ¦ å¼ï¼æˆ‘æ˜¯ç‹®å­ç‹ï¼Œæ­£åœ¨å¤„ç†é«˜ä¼˜å…ˆçº§ä»»åŠ¡ï¼
```

## ğŸ—ºï¸ åŠ¨ç‰©å›­åœ°å›¾

```mermaid
mindmap
  root((ğŸª Zoo Framework))
    ğŸ¦ Worker åŠ¨ç‰©ä»¬
      ğŸ¦ ç‹®å­ - é«˜ä¼˜å…ˆçº§
      ğŸ’ çŒ´å­ - æ™®é€šä»»åŠ¡
      ğŸ¦¥ æ ‘æ‡’ - å»¶è¿Ÿæ‰§è¡Œ
      ğŸ¦… è€é¹° - äº‹ä»¶å“åº”
      ğŸ˜ å¤§è±¡ - çŠ¶æ€ç®¡ç†
    ğŸ  Cage ç¬¼å­
      ğŸ”’ å®‰å…¨é˜²æŠ¤
      ğŸ”„ ç”Ÿå‘½å‘¨æœŸ
      ğŸ“¢ é€šä¿¡æœºåˆ¶
    ğŸ‘¨â€ğŸ’¼ Master å›­é•¿
      ğŸŒ… æ™¨æ£€
      ğŸ– å–‚é£Ÿ
      ğŸ”„ å·¡è§†
      ğŸ“Š è®°å½•
    ğŸ– Event é£Ÿç‰©
      ğŸ“Š FIFO é¥²å…»å‘˜é˜Ÿåˆ—
      â­ ä¼˜å…ˆçº§æ’åº
      â° å»¶è¿ŸæŠ•å–‚
    ğŸ—ºï¸ State çŠ¶æ€å›¾
      ğŸ“ å¿ƒæƒ…å˜åŒ–
      ğŸ”„ çŠ¶æ€è½¬æ¢
      ğŸ’¾ è®°å¿†å­˜å‚¨
```

## ğŸ“š æ¸¸è§ˆæŒ‡å—

### ğŸ”° æ–°æ‰‹å…¥å›­
- [ğŸ« å…¥å›­æŒ‡å—](/start/) - 5åˆ†é’Ÿæˆä¸ºåˆæ ¼é¥²å…»å‘˜
- [ğŸ—ï¸ æ­å»ºç¬¼å­](/start/new.html) - åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªåŠ¨ç‰©å›­
- [ğŸ—ºï¸ åŠ¨ç‰©å›­å¸ƒå±€](/guide/structure.html) - äº†è§£åŠ¨ç‰©å›­ç»“æ„

### ğŸ¦ è®¤è¯†åŠ¨ç‰©
- [ğŸ¦ Worker åŠ¨ç‰©ä»¬](/core/worker.html) - äº†è§£å„ç§åŠ¨ç‰©çš„ç‰¹ç‚¹
- [ğŸ– Event é£Ÿç‰©ç³»ç»Ÿ](/core/event.html) - å¦‚ä½•å–‚å…»åŠ¨ç‰©
- [ğŸ—ºï¸ çŠ¶æ€å›¾](/core/statemachine.html) - åŠ¨ç‰©çš„å¿ƒæƒ…å˜åŒ–
- [ğŸ“Š FIFO é¥²å…»å‘˜é˜Ÿåˆ—](/core/fifo.html) - é£Ÿç‰©åˆ†å‘æœºåˆ¶
- [ğŸ  Cage ç¬¼å­](/core/waiter.html) - åŠ¨ç‰©çš„å®¶

### ğŸª é«˜çº§é©¯å…½
- [âœ‚ï¸ AOP é©¯å…½æŠ€å·§](/advanced/aop.html)
- [âš¡ Reactor ååº”è®­ç»ƒ](/advanced/reactor.html)
- [ğŸ”’ Cage å®‰å…¨åŠ å›º](/advanced/lock.html)
- [ğŸ”Œ å¼•å…¥æ–°ç‰©ç§](/advanced/plugin.html)

## ğŸŒŸ ä¸ºä»€ä¹ˆé€‰æ‹© Zoo Frameworkï¼Ÿ

### ğŸª æœ‰è¶£çš„ç¼–ç¨‹ä½“éªŒ

ä¼ ç»Ÿå¤šçº¿ç¨‹ï¼šæ¯ç‡¥çš„ Thread ç®¡ç†  
**Zoo Framework**ï¼šæœ‰è¶£çš„åŠ¨ç‰©å›­ç®¡ç† ğŸª

```python
# âŒ ä¼ ç»Ÿæ–¹å¼ï¼šæ¯ç‡¥
import threading
t = threading.Thread(target=func)
t.start()

# âœ… Zoo Frameworkï¼šæœ‰è¶£ï¼
class LionWorker(BaseWorker):  # ğŸ¦ æˆ‘æ˜¯ç‹®å­ï¼
    def _execute(self):
        print("å¼ï¼")
```

### ğŸ§  æ˜“ç†è§£çš„è®¾è®¡

| ğŸª åŠ¨ç‰©å›­æ¦‚å¿µ | ğŸ’» ç¼–ç¨‹æ¦‚å¿µ |
|--------------|------------|
| ğŸ¦ åŠ¨ç‰© | Worker å·¥ä½œå™¨ |
| ğŸ  ç¬¼å­ | Cage çº¿ç¨‹ç®¡ç† |
| ğŸ‘¨â€ğŸ’¼ å›­é•¿ | Master è°ƒåº¦å™¨ |
| ğŸ– é£Ÿç‰© | Event äº‹ä»¶ |
| ğŸ“Š é¥²å…»å‘˜ | FIFO é˜Ÿåˆ— |
| ğŸ—ºï¸ çŠ¶æ€å›¾ | StateMachine |

### ğŸ›¡ï¸ å®‰å…¨å¯é 

- ğŸ”’ Cage ç¬¼å­ä¿æŠ¤çº¿ç¨‹å®‰å…¨
- ğŸ‘¨â€ğŸ’¼ Master å›­é•¿ç›‘æ§å…¨å±€
- ğŸ“Š å®Œå–„çš„æ—¥å¿—å’Œç›‘æ§

## ğŸ¤ æˆä¸ºé¥²å…»å‘˜

æ¬¢è¿åŠ å…¥ Zoo Framework åŠ¨ç‰©å›­ï¼

[GitHub](https://github.com/YearsAlso/zoo-framework) | [Issues](https://github.com/YearsAlso/zoo-framework/issues) | [æ–‡æ¡£](https://github.com/YearsAlso/zoo-framework-doc)

---

<p align="center">
  ğŸª Made with â¤ï¸ by Zoo Framework Team ğŸ¦
</p>
